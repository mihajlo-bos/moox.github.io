
<!DOCTYPE html>
<!--
  HEY YOU, STOP LOOKING AT MY SOURCE CODE
  Just check it out directly on Github :

  https://github.com/MoOx/moox.github.io.git
-->
<html lang="en" class="no-js no-touch  mx--">
<head>
<!--[if lt IE 9]><script>"header footer section aside nav article figure figcaption hgroup time main".replace(/\w+/g,function(a){document.createElement(a)})</script><![endif]-->
<script>
  var html = document.documentElement
  html.className = html.className.replace(/\bno-js\b/, "js")
  if ("ontouchstart" in html) { html.className = html.className.replace(/\bno-touch\b/, "touch") }
</script>

<meta charset="utf-8">
<title>Configurer un Serveur Web Apache PHP MySQL sur OS X Lion</title>

<base href="http://moox.io/">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<link href="feed.xml" rel="alternate" type="application/rss+xml">

<link rel="stylesheet" href="/assets/css/moox.css?20140930061303">




<!--[if lt IE 9]><script src="http://rawgithub.com/scottjehl/Respond/master/dest/respond.min.js"></script><![endif]-->
</head>
<body>
<!--[if lt IE 9]>
<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->

<nav class="Navbar Navbar--top js-Togglable">
  <div class="mx-Body grid">
    <div class="grid__cell">
      <a class="SiteLogo Navbar-section Navbar-section--left AttrTip AttrTip--bottom title" href="/" data-tip="Home">
        <span class="SiteLogo-title">MoOx</span>
        <br />
        <span class="SiteLogo-description">Front-end web developer</span>
      </a>
      <button class="Navbar-toggler js-Togglable-toggler"><i class="icon icon_menu"></i></button>
      <ul class="Navbar-section Navbar-section--right mx-SeparatorBefore mx-SeparatorBefore--thin mx-SeparatorBefore--animated js-Togglable-item js-Togglable-item--hidden">
        <li><a class=""  href="profile/"><i class="icon icon_user"></i> Profile</a>
        
        </li><li><a class=""  href="/code/"><i class="icon icon_gears"></i> Code</a>
        </li><li><a class=""  href="blog/"><i class="icon icon_pencil"></i> Posts</a>
        </li><li><a class=""  href="slides/"><i class="icon icon_speech-bubble"></i> Talks</a>
        </li><li><a class=""  href="about/"><i class="icon icon_help"></i> About</a>
        </li><li><a class=""  href="contact/"><i class="icon icon_speech-bubbles"></i> Contact</a></li>
      </ul>
      <div class="mx-Separator mx-Separator--thin mx-Separator--animated js-Togglable-item"></div>
    </div>
  </div>
</nav>

  <header class="mx-Header">
    <div class="mx-BackgroundImg js-is-Loading" data-parallaxify-y-min="80%" data-parallaxify-y-max="20%"></div>
    <div class="mx-Header-body mx-Body">

    <h1 class="mx-Header-body-title mx-Title--light grid__cell" lang="fr">
      <span class="mx-Text--lessVisible">[fr]</span> Configurer un Serveur Web Apache PHP MySQL sur OS X Lion
    </h1>
  
    </div>
    <div class="mx-Separator u-posStretch--horizontal u-posToBottom"></div>
  </header>
  <div class="mx-Content">
    <div class="js-Pjax-child">

    <div class="mx-Body grid">
      <div class="grid__cell">
        <article class="mx-Post" lang="fr">
          <header class="mx-SeparatorAfter mx-SeparatorAfter--thin mx-SeparatorAfter--alt">
            <time class="mx-Text--lessVisible" pubdate datetime="2014-09-30">15 November 2011</time>
          </header>
          <!-- 
          <div class="category">
            <ul>
              
                <li><a href="#"></a></li>
              
                <li><a href="#"></a></li>
              
                <li><a href="#"></a></li>
              
                <li><a href="#"></a></li>
              
                <li><a href="#"></a></li>
              
            </ul>
          </div>
           -->
          <div class="content">
            

<p>Ayant mis à jour récemment mon système d’exploitation (OS X 10.6 <em>Snow Leopard</em> à <strong>OS X 10.7 <em>Lion</em></strong>), j’ai du réinstaller mon serveur web dessus.
La précédente technique que j’avais utilisé était basé sur MacPorts, j’avais donc écris un article à ce sujet: <a href="/blog/installer-serveur-web-apache-php-mysql-mac-os-x-macports/">Installer Apache PHP MySQL sous Mac OS X</a>. Comme je l’expliquais dans cette article, cette solution est pour moi la plus intéressante lorsque l’on cherche un serveur web AMP complet.</p>
<p>Mais aujourd’hui, j’utilise lorsque j’ai besoin d’un vrai serveur digne de ce nom, j’utilise la virtualisation avec Vagrant et VirtualBox (cela fera peut être l’objet d’un autre billet) afin d’avoir un environnement proche de celui que j’ai en production.</p>
<p>Du coup, nativement sur mon Mac OS, je n’ai besoin que d’un simple <strong>serveur web Apache/PHP/MySQL </strong>. Rien qui casse la baraque, juste de quoi faire tourner quelques petits scripts (voir un WordPress) sans allumer une VM. Si vous cherchez une solution complète, ej vous invite à vous rendre sur mon lien ci-dessus.</p>
<h2 id="activer-apache-php-en-quelques-secondes-sur-os-x-lion">Activer Apache/PHP en quelques secondes sur OS X Lion</h2>
<p>Maintenant que <em>OS X Lion</em> vient de sortir, les versions des logiciels qu’ils embarquent sont assez récente. <strong>Apache 2</strong> est juste à activer dans les préférences du système dans la partie qui concerne le <em>Partage</em> (<em>Sharing</em> si votre OS est en anglais)</p>
<figure class="flex-media--unknown">
    <a href="/media/2011/07/OS-X-Lion-System-Preferences-Sharing.png">
        <img src="/media/2011/07/OS-X-Lion-System-Preferences-Sharing.png" alt="" title="OS-X-Lion--System-Preferences--Sharing" class="flex-media__item" />
    </a>
</figure>

<figure class="flex-media--unknown">
    <a href="/media/2011/07/OS-X-Lion-System-Preferences-Sharing-Web-Sharing.png"></a>
        <img src="/media/2011/07/OS-X-Lion-System-Preferences-Sharing-Web-Sharing.png" alt="" title="OS-X-Lion--System-Preferences--Sharing--Web-Sharing" class="flex-media__item" />
    </a>
</figure>

<p>Vous pouvez vérifier en cliquant sur un des liens que Apache fonctionne bien. Vous devriez voir une page avec « It works ! ».</p>
<p>Ensuite il faut activer sur Apache le module PHP 5 (5.3.6). Rien de complexe.
Avec Terminal.app (<code>/Application/Utilitaires/Terminal.app</code>), un coup de <code>sudo pico /etc/apache2/httpd.conf</code> devrait vous ouvrir le fichier de configuration d’Apache dans la console.</p>
<p><em>Remarque: pour toutes les commandes qui commencent par <code>sudo</code> (Super Utilisateur DO), il vous est demandé un mot de passe. Utilisez celui de votre session (et ne vous inquiétez pas si vous ne voyez aucun caratère s’afficher lorsque vous tapez, c’est normal – sécurité des systèmes &amp; co).</em></p>
<p>Sinon avec le Finder <kbd>⇧</kbd>+<kbd>⌘</kbd>+<kbd>G</kbd> (Go to the folder). Entrez <code>/private/etc/apache2/httpd.conf</code> puis ouvrez <code>httpd.conf</code> (mais là vous devrez avoir les droits sur le fichiers pour le modifier – préférez donc la méthode du Terminal).
Cherchez et décommentez dans le premier quart du fichier la ligne <code>LoadModule php5_module libexec/apache2/libphp5.so</code>. Il suffit d’enlever le <strong>#</strong> présent au début de la ligne.</p>
<h2 id="installer-mysql-sur-os-x-lion">Installer MySQL sur OS X Lion</h2>
<p>Pour installer MySQL simplement, il suffit d’utiliser les packages du site officiel: <a href="http://dev.mysql.com/downloads/mysql/"><a href="http://dev.mysql.com/downloads/mysql/">http://dev.mysql.com/downloads/mysql/</a></a>.
Installez MySQL, puis le panneau de préférence afin de pouvoir activer/désactiver MySQL à souhait, ainsi que si vous en avez besoin, le paquet pour avoir MySQL avec qui démarre avec le système.
Une fois les paquets installés, il reste à « brancher » PHP et MySQL ensemble.</p>
<p>Un petit tour dans la configuration de PHP pour ajuster le lien entre MySQL et PHP:
Allez dans <code>/private/etc/</code> et copier <code>php.ini.default</code> en <code>php.ini</code>, ceci afin de pouvoir adapter la configuration. Modifier directement le <code>php.ini.default</code> ne servirait à rien.</p>
<p>Avec Terminal.app , rien de plus simple il vous suffit d’exécuter les lignes suivantes:</p>
<pre><code class="language-bash"><span class="cm-comment"># copie du fichier</span>
<span class="cm-builtin">sudo</span> <span class="cm-builtin">cp</span> /private/etc/php.ini.default /private/etc/php.ini
<span class="cm-comment"># ouverture pour édition</span>
<span class="cm-builtin">sudo</span> open <span class="cm-attribute">-a</span> TextEdit /private/etc/php.ini</code></pre>
<p>Modifiez dedans (en plus de vos ajustements personnels) les valeurs des sockets pour MySQL : remplacez <code>/var/mysql</code> en <code>/tmp</code> aux différents endroits (pour l’extension [MySQL], [MySQLi] et [Pdo_mysql]) afin d’avoir un socket qui pointe sur <code>/tmp/mysql.sock</code> (valeur par défaut du package MySQL pour Mac OS X)</p>
<h2 id="petite-touche-en-plus-xdebug">Petite touche en plus : xDebug</h2>
<p>xDebug est déjà présent sur le système dans <code>/usr/lib/php/extensions</code>, il suffit de l’activer.
Ajouter dans votre php.ini (cf configuration de php ci-dessus)</p>
<pre><code class="language-ini"><span class="cm-header">[xdebug]</span>
<span class="cm-def">z</span><span class="cm-def">e</span><span class="cm-def">n</span><span class="cm-def">d</span><span class="cm-def">_</span><span class="cm-def">e</span><span class="cm-def">x</span><span class="cm-def">t</span><span class="cm-def">e</span><span class="cm-def">n</span><span class="cm-def">s</span><span class="cm-def">i</span><span class="cm-def">o</span><span class="cm-def">n</span>=<span class="cm-quote">/</span><span class="cm-quote">u</span><span class="cm-quote">s</span><span class="cm-quote">r</span><span class="cm-quote">/</span><span class="cm-quote">l</span><span class="cm-quote">i</span><span class="cm-quote">b</span><span class="cm-quote">/</span><span class="cm-quote">p</span><span class="cm-quote">h</span><span class="cm-quote">p</span><span class="cm-quote">/</span><span class="cm-quote">e</span><span class="cm-quote">x</span><span class="cm-quote">t</span><span class="cm-quote">e</span><span class="cm-quote">n</span><span class="cm-quote">s</span><span class="cm-quote">i</span><span class="cm-quote">o</span><span class="cm-quote">n</span><span class="cm-quote">s</span><span class="cm-quote">/</span><span class="cm-quote">n</span><span class="cm-quote">o</span><span class="cm-quote">-</span><span class="cm-quote">d</span><span class="cm-quote">e</span><span class="cm-quote">b</span><span class="cm-quote">u</span><span class="cm-quote">g</span><span class="cm-quote">-</span><span class="cm-quote">n</span><span class="cm-quote">o</span><span class="cm-quote">n</span><span class="cm-quote">-</span><span class="cm-quote">z</span><span class="cm-quote">t</span><span class="cm-quote">s</span><span class="cm-quote">-</span><span class="cm-quote">2</span><span class="cm-quote">0</span><span class="cm-quote">0</span><span class="cm-quote">9</span><span class="cm-quote">0</span><span class="cm-quote">6</span><span class="cm-quote">2</span><span class="cm-quote">6</span><span class="cm-quote">/</span><span class="cm-quote">x</span><span class="cm-quote">d</span><span class="cm-quote">e</span><span class="cm-quote">b</span><span class="cm-quote">u</span><span class="cm-quote">g</span><span class="cm-quote">.</span><span class="cm-quote">s</span><span class="cm-quote">o</span>
<span class="cm-comment">; more option ?</span></code></pre>
<p>Toutes les <a href="http://xdebug.org/docs/all_settings">options de xdebug</a> sont disponibles accessible sur le site officiel.</p>
<p>Et voilà le tour est joué ! Vous voilà avec <strong>Apache 2, PHP 5.3.6 et MySQL 5.5 et xDebug sur MAC OS X Lion 10.7 !</strong></p>


          </div>

          <footer>
            <small>
              See something wrong here ? Please tell me <a href="https://github.com/MoOx/moox.io/issues">with an issue on Github</a>,
              or just some words on twitter at <a href="https://twitter.com/MoOx/">@MoOx</a>.
            </small>

            <hr class="mx-Separator">

            
              <section class="AboutAuthor">
	<img class="AboutAuthor-avatar" src="//gravatar.com/avatar/d2a1c95e2af59538301c3ee6d2907f6f?s=128" alt="">
	<h1 class="h3 margin-vn">À propos de l'auteur</h1>
	<p>
		<strong>Maxime Thirouin</strong>, alias <em>MoOx</em> sur le web, est un développeur front-end freelance vivant à Toulouse, en France. Lorsqu'il ne fait pas le geek derrière son écran, il adore bricoler dans sa maison en bois ou profiter de la vie avec sa merveilleuse femme. Vous pouvez consulter le code qu'il publie sur <a href="https://github.com/MoOx">Github</a> ou juste jeter un coup d'oeil à ce qu'il partage via <a href="https://twitter.com/MoOx">Twitter</a>.
	</p>
</section>

            
          </footer>
        </article>

        <hr class="mx-Separator mx-Separator--alt">

        
        <section class="">
          <h1>Comments</h1>
          <div id="disqus_thread" aria-live="polite">
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          </div>
        </section>
        
      </div>
    </div>
  
    </div>
  </div>
<footer class="mx-Footer mx-Text--light">
  <div class="mx-Separator mx-Separator u-posStretch--horizontal u-posToTop"></div>
  <div class="mx-BackgroundImg js-is-Loading" data-parallaxify-y-min="90%"  data-parallaxify-y-max="100%"></div>
  <div class="mx-Footer-body mx-Body grid">
    <div class="mx-TextCenter mx-TextLeft--m grid__cell unit-1-2--medium">
      <a class="mx-IconLink AttrTip AttrTip--top" data-tip="Twitter" href="https://twitter.com/MoOx"><i class="icon icon_twitter"></i></a>
      <a class="mx-IconLink AttrTip AttrTip--top" data-tip="Github" href="https://github.com/MoOx"><i class="icon icon_github"></i></a>
      <a class="mx-IconLink AttrTip AttrTip--top" data-tip="LinkedIn" href="http://www.linkedin.com/in/maxthirouin"><i class="icon icon_linkedin"></i></a>
      <a class="mx-IconLink AttrTip AttrTip--top" data-tip="Skype" href="skype:maxime.thirouin?add"><i class="icon icon_skype"></i></a>
      <a class="mx-IconLink AttrTip AttrTip--top" data-tip="Get in touch" href="contact/"><i class="icon icon_speech-bubbles"></i></a>
      <a class="mx-IconLink AttrTip AttrTip--top" data-tip="+33 6 78 13 54 39" href="tel:+33678135439"><i class="icon icon_device-smartphone"></i></a>
    </div>
    <div class="mx-TextCenter mx-TextRight--m grid__cell unit-1-2--medium">
      <small>
        Built &amp; designed with my hands.
        Source code available on <a href="https://github.com/MoOx/moox.io">Github</a>.
      </small>
    </div>
  </div>
</footer>

<script src="/assets/js/vanilla.js?20140930061303"></script>


	
	<script>
		var _gaq=[['_setAccount','UA-1716762-6'],['_trackPageview']];
		(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
		g.src='//www.google-analytics.com/ga.js';
		s.parentNode.insertBefore(g,s)}(document,'script'));
	</script>
	



<div class="js-Disqus">

  <script>
  var disqus_shortname = 'moox'
  
  
    
    , disqus_identifier = 'http://moox.io/blog/configurer-serveur-web-apache-php-mysql-sur-os-lion/'
    , disqus_url = 'http://moox.io/blog/configurer-serveur-web-apache-php-mysql-sur-os-lion/'
    , disqus_script = 'embed.js'
  
  if (!window.DISQUS) {
    (function(d,s) {
    s = d.createElement('script');s.async=1;s.src = '//' + disqus_shortname + '.disqus.com/'+disqus_script;
    (d.getElementsByTagName('head')[0]).appendChild(s);
    })(document)
  }
  else {
    DISQUS.reset({
      reload: true,
      config: function () {
        this.page.identifier = disqus_identifier
        this.page.url = disqus_url
      }
    })
  }
  </script>

</div>
</body>
</html>

