<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>MoOx</title>
        <description>Front-end web developer</description>
        <link>http://moox.io/</link>
        <generator>happyplan 0.4.0-beta.3</generator>
        <lastBuildDate>Sun, 29 December 2013 00:00:00 +0100</lastBuildDate>

          <item>
              <title>Configurer un Serveur Web Apache PHP MySQL sur OS X Lion</title>
              <description><![CDATA[

<p>Ayant mis à jour récemment mon système d’exploitation (OS X 10.6 <em>Snow Leopard</em> à <strong>OS X 10.7 <em>Lion</em></strong>), j’ai du réinstaller mon serveur web dessus.
La précédente technique que j’avais utilisé était basé sur MacPorts, j’avais donc écris un article à ce sujet: <a href="/blog/installer-serveur-web-apache-php-mysql-mac-os-x-macports/">Installer Apache PHP MySQL sous Mac OS X</a>. Comme je l’expliquais dans cette article, cette solution est pour moi la plus intéressante lorsque l’on cherche un serveur web AMP complet.</p>
<p>Mais aujourd’hui, j’utilise lorsque j’ai besoin d’un vrai serveur digne de ce nom, j’utilise la virtualisation avec Vagrant et VirtualBox (cela fera peut être l’objet d’un autre billet) afin d’avoir un environnement proche de celui que j’ai en production.</p>
<p>Du coup, nativement sur mon Mac OS, je n’ai besoin que d’un simple <strong>serveur web Apache/PHP/MySQL </strong>. Rien qui casse la baraque, juste de quoi faire tourner quelques petits scripts (voir un WordPress) sans allumer une VM. Si vous cherchez une solution complète, ej vous invite à vous rendre sur mon lien ci-dessus.</p>
<h2 id="activer-apache-php-en-quelques-secondes-sur-os-x-lion">Activer Apache/PHP en quelques secondes sur OS X Lion</h2>
<p>Maintenant que <em>OS X Lion</em> vient de sortir, les versions des logiciels qu’ils embarquent sont assez récente. <strong>Apache 2</strong> est juste à activer dans les préférences du système dans la partie qui concerne le <em>Partage</em> (<em>Sharing</em> si votre OS est en anglais)</p>
<figure class="flex-media--unknown">
    <a href="/2011/07/OS-X-Lion-System-Preferences-Sharing.png">
        <img src="/2011/07/OS-X-Lion-System-Preferences-Sharing.png" alt="" title="OS-X-Lion--System-Preferences--Sharing" class="flex-media__item" />
    </a>
</figure>

<figure class="flex-media--unknown">
    <a href="/2011/07/OS-X-Lion-System-Preferences-Sharing-Web-Sharing.png"></a>
        <img src="/2011/07/OS-X-Lion-System-Preferences-Sharing-Web-Sharing.png" alt="" title="OS-X-Lion--System-Preferences--Sharing--Web-Sharing" class="flex-media__item" />
    </a>
</figure>

<p>Vous pouvez vérifier en cliquant sur un des liens que Apache fonctionne bien. Vous devriez voir une page avec « It works ! ».</p>
<p>Ensuite il faut activer sur Apache le module PHP 5 (5.3.6). Rien de complexe.
Avec Terminal.app (<code>/Application/Utilitaires/Terminal.app</code>), un coup de <code>sudo pico /etc/apache2/httpd.conf</code> devrait vous ouvrir le fichier de configuration d’Apache dans la console.</p>
<p><em>Remarque: pour toutes les commandes qui commencent par <code>sudo</code> (Super Utilisateur DO), il vous est demandé un mot de passe. Utilisez celui de votre session (et ne vous inquiétez pas si vous ne voyez aucun caratère s’afficher lorsque vous tapez, c’est normal – sécurité des systèmes &amp; co).</em></p>
<p>Sinon avec le Finder <kbd>⇧</kbd>+<kbd>⌘</kbd>+<kbd>G</kbd> (Go to the folder). Entrez <code>/private/etc/apache2/httpd.conf</code> puis ouvrez <code>httpd.conf</code> (mais là vous devrez avoir les droits sur le fichiers pour le modifier – préférez donc la méthode du Terminal).
Cherchez et décommentez dans le premier quart du fichier la ligne <code>LoadModule php5_module libexec/apache2/libphp5.so</code>. Il suffit d’enlever le <strong>#</strong> présent au début de la ligne.</p>
<h2 id="installer-mysql-sur-os-x-lion">Installer MySQL sur OS X Lion</h2>
<p>Pour installer MySQL simplement, il suffit d’utiliser les packages du site officiel: <a href="http://dev.mysql.com/downloads/mysql/"><a href="http://dev.mysql.com/downloads/mysql/">http://dev.mysql.com/downloads/mysql/</a></a>.
Installez MySQL, puis le panneau de préférence afin de pouvoir activer/désactiver MySQL à souhait, ainsi que si vous en avez besoin, le paquet pour avoir MySQL avec qui démarre avec le système.
Une fois les paquets installés, il reste à « brancher » PHP et MySQL ensemble.</p>
<p>Un petit tour dans la configuration de PHP pour ajuster le lien entre MySQL et PHP:
Allez dans <code>/private/etc/</code> et copier <code>php.ini.default</code> en <code>php.ini</code>, ceci afin de pouvoir adapter la configuration. Modifier directement le <code>php.ini.default</code> ne servirait à rien.</p>
<p>Avec Terminal.app , rien de plus simple il vous suffit d’exécuter les lignes suivantes:</p>
<pre><code class="language-bash"><span class="cm-comment"># copie du fichier</span>
<span class="cm-builtin">sudo</span> <span class="cm-builtin">cp</span> /private/etc/php.ini.default /private/etc/php.ini
<span class="cm-comment"># ouverture pour édition</span>
<span class="cm-builtin">sudo</span> open <span class="cm-attribute">-a</span> TextEdit /private/etc/php.ini</code></pre>
<p>Modifiez dedans (en plus de vos ajustements personnels) les valeurs des sockets pour MySQL : remplacez <code>/var/mysql</code> en <code>/tmp</code> aux différents endroits (pour l’extension [MySQL], [MySQLi] et [Pdo_mysql]) afin d’avoir un socket qui pointe sur <code>/tmp/mysql.sock</code> (valeur par défaut du package MySQL pour Mac OS X)</p>
<h2 id="petite-touche-en-plus-xdebug">Petite touche en plus : xDebug</h2>
<p>xDebug est déjà présent sur le système dans <code>/usr/lib/php/extensions</code>, il suffit de l’activer.
Ajouter dans votre php.ini (cf configuration de php ci-dessus)</p>
<pre><code class="language-ini"><span class="cm-header">[xdebug]</span>
<span class="cm-def">z</span><span class="cm-def">e</span><span class="cm-def">n</span><span class="cm-def">d</span><span class="cm-def">_</span><span class="cm-def">e</span><span class="cm-def">x</span><span class="cm-def">t</span><span class="cm-def">e</span><span class="cm-def">n</span><span class="cm-def">s</span><span class="cm-def">i</span><span class="cm-def">o</span><span class="cm-def">n</span>=<span class="cm-quote">/</span><span class="cm-quote">u</span><span class="cm-quote">s</span><span class="cm-quote">r</span><span class="cm-quote">/</span><span class="cm-quote">l</span><span class="cm-quote">i</span><span class="cm-quote">b</span><span class="cm-quote">/</span><span class="cm-quote">p</span><span class="cm-quote">h</span><span class="cm-quote">p</span><span class="cm-quote">/</span><span class="cm-quote">e</span><span class="cm-quote">x</span><span class="cm-quote">t</span><span class="cm-quote">e</span><span class="cm-quote">n</span><span class="cm-quote">s</span><span class="cm-quote">i</span><span class="cm-quote">o</span><span class="cm-quote">n</span><span class="cm-quote">s</span><span class="cm-quote">/</span><span class="cm-quote">n</span><span class="cm-quote">o</span><span class="cm-quote">-</span><span class="cm-quote">d</span><span class="cm-quote">e</span><span class="cm-quote">b</span><span class="cm-quote">u</span><span class="cm-quote">g</span><span class="cm-quote">-</span><span class="cm-quote">n</span><span class="cm-quote">o</span><span class="cm-quote">n</span><span class="cm-quote">-</span><span class="cm-quote">z</span><span class="cm-quote">t</span><span class="cm-quote">s</span><span class="cm-quote">-</span><span class="cm-quote">2</span><span class="cm-quote">0</span><span class="cm-quote">0</span><span class="cm-quote">9</span><span class="cm-quote">0</span><span class="cm-quote">6</span><span class="cm-quote">2</span><span class="cm-quote">6</span><span class="cm-quote">/</span><span class="cm-quote">x</span><span class="cm-quote">d</span><span class="cm-quote">e</span><span class="cm-quote">b</span><span class="cm-quote">u</span><span class="cm-quote">g</span><span class="cm-quote">.</span><span class="cm-quote">s</span><span class="cm-quote">o</span>
<span class="cm-comment">; more option ?</span></code></pre>
<p>Toutes les <a href="http://xdebug.org/docs/all_settings">options de xdebug</a> sont disponibles accessible sur le site officiel.</p>
<p>Et voilà le tour est joué ! Vous voilà avec <strong>Apache 2, PHP 5.3.6 et MySQL 5.5 et xDebug sur MAC OS X Lion 10.7 !</strong></p>

]]></description>
              <pubDate>Tue, 15 November 2011 00:00:00 +0100</pubDate>
              <link>/dist/blog/configurer-serveur-web-apache-php-mysql-sur-os-lion/index.html</link>
              <guid isPermaLink="true">/dist/blog/configurer-serveur-web-apache-php-mysql-sur-os-lion/index.html</guid>
          </item>

          <item>
              <title>Compass.app, une application qu&#x27;elle est bien pour compiler ses CSS avec Sass / Compass</title>
              <description><![CDATA[

<figure class="flex-media--3-1">
  <a href="http://compass-style.org/">
    <img class="flex-media__item" src="/2011/05/compass.app_.jpg" alt="compass app" />
  </a>
</figure>

<p>Suite à mes précédents articles sur <a href="/blog/utiliser-des-variables-fonctions-css">les pré-processeurs CSS qui permettent d’utiliser des variables et fonctions</a>, et <a href="/blog/fonctions-variables-css-generer-ses-css-avec-sass-compass/">un petit tutoriel sur l’installation et utilisation du combo Sass/Compass</a>, voici la présentation d’un petite application, qui permet de s’affranchir des toujours utiliser des lignes de commandes pour lancer Compass.</p>
<p>Voici une petite vidéo d’intro (sans son) provenant du <a href="http://compass.handlino.com/">site officiel de Compass.app</a></p>
<p>C’est quand même plus sympa d’avoir une petite appli discrète, avec les notifications systèmes ! Quelques options sont configurables via un menu (pour activer/désactiver certains types de notifications, ou spécifier la version de compass à utiliser).</p>
<p>Des versions compilés de l’application sont disponibles à la vente sur le site, mais l’application est Open-Source et il est bien indiqué dans la doc du <a href="https://github.com/handlino/CompassApp">repository Github de Compass.app</a> que nous pouvons librement le compiler.</p>
<p>Pour mémo, voici de quoi l’installer (sur Mac OS X, doit donc fonctionner sur Linux, voir même Windows avec une petite adaptation pour les paths) :</p>
<h2 id="pr-requis-la-compilation-de-compass-app">Prérequis à la compilation de Compass.app</h2>
<ol>
<li>Avoir Java installé (vérifier avec <code>java -version</code>)</li>
<li><a href="http://jruby.org/download">Télécharger la dernière version de jRuby</a> zippé (jRuby est un trip entre java et ruby, d’après ce que j’ai compris ça permet de coder un app java en ruby)</li>
<li>Dézippé jRuby dans <code>/usr/local/</code></li>
<li>Renommer en jruby (au lieu d’un jruby-1.x)</li>
</ol>
<h2 id="compass-app">Compass.app</h2>
<p>En ligne de commande,</p>
<pre><code class="language-bash"><span class="cm-comment"># pour la session en cours, on ajoute jruby dans le path pour simplifier les appels</span>
<span class="cm-def">PATH</span><span class="cm-operator">=</span>/usr/local/jruby/bin:<span class="cm-def">$PATH</span>
<span class="cm-comment"># installation d&#39;un gem depuis jruby (autrement ça marche pas)</span>
jruby <span class="cm-attribute">-S</span> gem install rawr

<span class="cm-comment"># ensuite créé un emplacement pour récupérer les sources de Compass.app</span>
<span class="cm-builtin">mkdir</span> ~/Applications/CompassApp
<span class="cm-builtin">cd</span> ~/Applications/CompassApp
<span class="cm-comment"># on clone depuis github</span>
<span class="cm-builtin">git</span> clone <span class="cm-builtin">git</span>://github.com/handlino/CompassApp.git <span class="cm-string">&quot;CompassApp&quot;</span>

<span class="cm-comment"># et on compile (un peu de patience)</span>
./bin/build-all.sh</code></pre>
<p>Vous trouverez ensuite les applis compilés et zippé pour Mac, Linux et Windows dans ./packages</p>
<h2 id="mise-jour-de-compass-app">Mise à jour de Compass.app</h2>
<p>Pour faire une mise à jour (de temps en temps)</p>
<pre><code class="language-bash"><span class="cm-def">PATH</span><span class="cm-operator">=</span>/usr/local/jruby/bin:<span class="cm-def">$PATH</span>
jruby <span class="cm-attribute">-S</span> gem update
<span class="cm-builtin">cd</span> ~/Applications/CompassApp
<span class="cm-builtin">git</span> pull
./bin/build-all.sh</code></pre>
<p>Là encore il vous reste à réinstaller la version compilé (dézipé et déplacement).</p>
<p>Certains risques de se demander pourquoi je n’ai pas ajouté jruby à mon PATH de manière permanente, c’est tout simplement car il y’a des binaires en double (ex: gem).</p>
<p>Bonne utilisation de Compass ;)</p>

]]></description>
              <pubDate>Mon, 23 May 2011 00:00:00 +0200</pubDate>
              <link>/dist/blog/compass-app-application-pour-compiler-css-sass-compass/index.html</link>
              <guid isPermaLink="true">/dist/blog/compass-app-application-pour-compiler-css-sass-compass/index.html</guid>
          </item>

          <item>
              <title>Fonctions et variables CSS avec Sass et Compass</title>
              <description><![CDATA[

<figure class="flex-media--3-1"><a href="http://sass-lang.com/"><img class="flex-media__item" src="/2011/05/sass.jpg" alt="sass" /></a></figure>

<p>Comme je l’ai expliqué dans mon précédent article, aujourd’hui il est possible de passer la vitesse supérieure avec ses CSS, afin d’avoir à sa disposition [variables et fonctions CSS][1]. Voici donc un petit mémo concernant la solution que j’ai choisi [Sass][2] avec la librairie Compass.</p>
<p>Pour vous donner l’eau à la bouche, voici une petite vidéo que j’ai trouvé sur le site de Compass.</p>
<p><figure class="flex-media--4-3">
  <iframe class="flex-media__item" src="http://player.vimeo.com/video/11671458" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></figure>
[An introduction to Compass][3] from [Lorin Tackett][4] on [Vimeo][5].</p>
<h2 id="pourquoi-j-ai-choisi-sass-">Pourquoi j’ai choisi <strong>Sass</strong></h2>
<p>Après avoir comparer 2 solutions (LESS et Sass) j’ai rapidement vu que Sass proposait un nombre supérieur de fonctions de base. Ne serait ce que un simple <code>rgba(#fff, .8)</code> impossible en CSS ou avec LESS. Allez faire un tour sur les documentations respectives de [Sass][6] et [LESS][7]. Je vous laisse libre arbitre pour ce choix qui vous appartient.
Ensuite j’ai cherché des librairies. Pour Sass, sans aucun doute, [Compass][8] est le parfait complément. Pour LESS, j’ai trouvé [Bootstrap.less][9] qui à l’air pas mal non plus, bien que bien moins complet que Compass en terme de fonctionnalités.
Après ce petit comparatif, j’ai eu le ressenti que le combo Sass / Compass avait l’air plus abouti que LESS. Mon choix s’est donc porté sur ces 2 projets.</p>
<p>Si Sass vous intéresse toujours, vous pouvez continuer la lecture ;)</p>
<h2 id="utiliser-des-variables-et-fonctions-css-avec-sass">Utiliser des variables et fonctions CSS avec Sass</h2>
<p>Afin de pouvoir utiliser Sass, il faut installer les paquets nécessaires à son bon fonctionnement. Heureusement c’est pas bien compliqué.
Si vous êtes sous Mac OS X, c’est même très simple car cela nécessite Ruby et Ruby Gem qui sont déjà installé sur ce système.
Pour les autres il suffira d’installer ces 2 paquets.</p>
<p>Sous une distribution linux ça devrait ressembler à :</p>
<pre><code class="language-bash"><span class="cm-builtin">sudo</span> aptitude install ruby rubygems</code></pre>
<p>Sous Windows il faudra installer ça avec un [installeur Ruby][10].</p>
<p>Maintenant, on vérifie que Ruby et RubyGem sont bien présents :</p>
<pre><code class="language-bash"><span class="cm-comment"># we check that ruby exists</span>
which ruby
<span class="cm-comment"># this command should return something like /usr/bin/ruby</span>

<span class="cm-comment"># same thing for gem</span>
which gem
<span class="cm-comment"># /usr/bin/gem</span></code></pre>
<p>Une fois qu’on a RubyGem d’opérationnel, on peut installer Sass de la façon suivante :</p>
<pre><code class="language-bash"><span class="cm-comment"># sudo is probably required if you are not logged as root</span>
<span class="cm-builtin">sudo</span> gem install sass</code></pre>
<p>Une fois ceci fait, faites un petit tour sur le [tutorial Sass][11] afin de faire un petit test pour vérifier que tout marche bien.</p>
<p>On crée un fichier test.scss avec le code suivant :</p>
<pre><code class="language-css"><span class="cm-tag">body</span> {
    <span class="cm-property">color</span><span class="cm-operator">:</span> <span class="cm-string-2">rgba</span>(<span class="cm-error">#fff</span>, <span class="cm-number">.8</span>);
}</code></pre>
<p>Ensuite on lance le binaire Sass depuis le dossier où se trouve le fichier de test :</p>
<pre><code class="language-bash">sass <span class="cm-attribute">--watch</span> test.scss:style.css</code></pre>
<p>On vérifie que le fichier contient bien du code css valide.
Et pour vérifier que l’aspect de tracking des modifications on peut modifier le fichier ainsi:</p>
<pre><code class="language-css"><span class="cm-tag">body</span> {
    <span class="cm-property">color</span><span class="cm-operator">:</span> <span class="cm-variable-2">darken</span>(<span class="cm-error">rgba</span>(<span class="cm-error">#fff</span>, <span class="cm-number">.8</span>), <span class="cm-number">10%</span>);
}</code></pre>
<p>On peut vérifier que la CSS a bien été modifié.</p>
<h3 id="structure-et-importation-des-fichiers-sass">Structure et Importation des fichiers Sass</h3>
<p>Une autre chose à savoir au niveau de Sass, très importante, et surtout très pratique : si vous avez un fichier SCSS ou Sass que vous souhaitez importer, mais que vous ne souhaitez pas voir compiler en fichier CSS, vous pouvez ajouter un underscore au début du nom de fichier. Du coup tous les fichiers qui commencent par _ ne sont pas compiler en .css, mais par contre peuvent être inclus dans vos .scss. Cela permet de créer une librairie avec [des fichiers Sass partiels][12].</p>
<p>Exemple de structure de dossier/fichiers SCSS :</p>
<pre><code>/partials/
    _header.scss
    _body.scss
    _footer.scss
style.scss</code></pre>
<p>style.scss contiendra des includes :</p>
<pre><code class="language-scss"><span class="cm-def">@import</span> <span class="cm-string">&quot;partials/header&quot;</span>;
<span class="cm-def">@import</span> <span class="cm-string">&quot;partials/footer&quot;</span>;

<span class="cm-def">@import</span> <span class="cm-string">&quot;partials/body&quot;</span>;

// <span class="cm-tag">some</span> <span class="cm-tag">others</span> <span class="cm-tag">rules</span> <span class="cm-tag">?</span></code></pre>
<p>La librairie Compass utilise se système à outrance ([la preuve sur le Github de Compass][13]) :) Pratique non?</p>
<p><del datetime="2011-05-13T06:32:42+00:00">Superbe</del> transition : je vous propose de passer à l’étape 2 avec Compass.</p>
<h2 id="la-librairie-compass">La librairie Compass</h2>


  <figure class="flex-media--3-1">
    <a href="http://compass-style.org/"><img class="flex-media__item" src="/2011/05/compass.jpg" alt="compass" /></a>
  </figure>

<p>Maintenant que vous êtes équipé de la boite à outils CSS, il faut bien commencer à la remplir !
Pour ce faire je vous propose d’installer la super <a href="http://compass-style.org/">librairie Compass</a> qui comporte moult fonctionnalités utile pour <a href="http://compass-style.org/reference/compass/css3/">utiliser du CSS 3 sans les préfixes dans tous les sens</a> ou <a href="http://compass-style.org/reference/compass/utilities/sprites/">générer des sprites CSS sans prises de têtes</a>. Rien que ça, ça vaut le détour !
Hop hop on installe Compass, aussi vite que Sass :</p>
<pre><code class="language-bash"><span class="cm-builtin">sudo</span> gem install compass</code></pre>
<p>Du coup une fois Compass installé, on ne va plus utiliser directement Sass, mais le binaire compass. Tout est parfaitement clair dans <a href="http://compass-style.org/help/">le Tutorial de base sur le site de Compass</a> <em>(pour peu que vous ne soyez pas anglophobe)</em>
Pour donner un petit exemple de création de projet :</p>
<pre><code class="language-bash">compass create test-project
<span class="cm-builtin">cd</span> test-project
compass watch</code></pre>
<p>Dès maintenant, vous pouvez créer et modifier dans ce dossier des fichiers .scss (ou .sass). Le processus de surveillance de Compass va automatiquement compiler vos feuilles de styles dans le répertoire contenant les CSS, et ce à la moindre modification.</p>
<p>Je vous laisse maintenant vous amuser avec ces nouveaux joujoux ! Profitez bien !</p>
<p><strong>Et si vous avez besoin de quelques fonctions Sass utilisant Compass, j’ai un petit repo Github <a href="https://github.com/MoOx/Compass-Recipes">Compass-Recipes</a>. N’hésitez pas à y contribuer si vous vous sentez l’âme de Git-eur :) </strong></p>
<p><em>Je vous conseille vivement de parcourir les documentations respectives de Sass et Compass, non pas pour tout apprendre d’un coup, mais plutôt afin d’entre-apercevoir l’étendu des possibilités !</em></p>
<p>Et maintenant, <a href="/blog/compass-app-application-pour-compiler-css-sass-compass/">je vous explique comment se passer des quelques lignes de commandes lorsque l’on utilise Compass souvent, grâce à une petit appli compatible Mac OS X, Linux (et même Windows) ;) </a></p>

]]></description>
              <pubDate>Fri, 13 May 2011 00:00:00 +0200</pubDate>
              <link>/dist/blog/fonctions-variables-css-generer-ses-css-avec-sass-compass/index.html</link>
              <guid isPermaLink="true">/dist/blog/fonctions-variables-css-generer-ses-css-avec-sass-compass/index.html</guid>
          </item>

          <item>
              <title>Utiliser des variables et fonctions CSS, c&#x27;est possible !</title>
              <description><![CDATA[

<p>Depuis la création d’Internet à aujourd’hui, les interfaces web ont bien évolués. Les langages et méthodes aussi. On est passé de sites statiques à des sites dynamiques, puis hautement dynamiques (la fameuse période 2.0…). Dans tous ça, CSS n’a, à mon sens, que très peu évolué d’un point de vue des possibilités du langage. Certains disent que la puissance des CSS réside dans la simplicité de celles-ci. Ce qui n’est pas forcément faux. Ca se discute.</p>
<h2 id="css-n-a-ni-variables-ni-fonctions">CSS n’a ni variables, ni fonctions</h2>
<p>Le langage des CSS n’a pas de côté dynamique. C’est lui avec lequel, à chaque fois qu’on intègre une maquette graphique, on doit se taper tout de zéro. Il a beau exister des <a href="http://cssresetr.com/">CSS « Reset »</a>, <a href="http://css4design.com/framework-css-semantique-maquette-dynamique-et-autres-notes">des frameworks CSS</a>, <a href="http://css4design.com/framework-css-mettez-vos-grilles-au-pas">tout un tas de grilles prête à l’emploi</a>, <a href="https://github.com/stubbornella/oocss">des composants de CSS réutilisables</a> avec l’approche <a href="http://fr.wikipedia.org/wiki/Objet_(informatique)">objet</a>, je n’ai jamais réellement était satisfait par ces méthodes, que ce soit à cause des contraintes qu’impose la syntaxe (devoir mettre des classes à tout va dans l’HTML ça peut vite devenir chiant dans un CMS), ou par d’éventuelles limitations qui obligent à « trop » modifier la source du document (pas assez de, ou trop de, ou juste ça me plait pas comment c’est fait).</p>
<h2 id="comment-faire-pour-avoir-des-variables-et-fonctions-dans-css-">Comment faire pour avoir des variables et fonctions dans CSS ?</h2>
<p>Bridé par le language, j’ai cherché des solutions car j’ai pas forcément envie d’attendre CSS 4 qui sera surement pas officiel avant 20 ans (sachant que CSS 3 n’est encore qu’un brouillon et que CSS 2.1 est à peine ouvert aux commentaires…)
Du coup, voilà ce que j’ai recencé à ce jour:</p>
<ul>
<li><a href="http://sass-lang.com/">Sass</a> dispo sur <a href="https://github.com/nex3/sass" title="Sass sur Github">GitHub</a></li>
<li><a href="http://lesscss.org/">LESS</a> dispo sur <a href="https://github.com/cloudhead/less.js" title="LESS sur Github">GitHub</a></li>
<li><a href="http://learnboost.github.com/stylus/">Stylus</a> dispo sur <a href="https://github.com/LearnBoost/stylus" title="Stylus sur Github">GitHub</a></li>
</ul>
<h2 id="pr-sentation-des-surcouches-existantes-aux-langages-des-css">Présentation des surcouches existantes aux langages des CSS</h2>
<p>Voici des textes traduits des sites officiels, qui résument très bien les outils. Puis s’ils résument pas bien, c’est pas de ma faute, c’est comme ça mais ça montre qui est clair et qui ne l’est pas :)</p>
<h3 id="sass">Sass</h3>
<blockquote>
<p>Sass rend les CSS à nouveau amusant. Sass est une extension de CSS 3, en ajoutant règles imbriqués, variables, <a href="http://fr.wikipedia.org/wiki/Mixin">mixins</a>, l’héritage de sélection, et encore plus. Cela ce transforme en CSS standard, bien formaté, à l’aide d’outils en ligne de commande ou avec des plugins de frameworks web [-ou un petit outil avec GUI que je vous présenterais ;) ].</p>
<p>Sass à 2 syntaxes. La principale (depuis Sass 3) est connu sous le nom de “SCSS » (pour “Sassy CSS”), et est un surensemble de la syntaxe CSS 3. Cela veut dire que du tout feuille de styles CSS 3 est aussi du SCSS valide. Les fichiers SCSS utilise l’extension .scss.</p>
<p>La seconde sxyntaxe, plus ancienne, est connu comme la syntaxe indenté (juste “Sass”). Inspiré par le laconisme de <a href="http://haml-lang.com/">Haml</a>, elle est destinée aux personnes qui préfèrent la concision. Au lieu de crochets et des points-virgules, elle utilise l’indentation des lignes pour spécifier les blocs. Bien que elle ne soit plus la syntaxe primaire, cette syntaxe continuera d’être pris en charge. Les fichiers de cette ancienne syntaxe utilisent l’extension .sass.</p>
</blockquote>
<h4 id="petit-exemple-de-code-sass-avec-la-syntaxe-scss">Petit exemple de code Sass avec la syntaxe Scss</h4>
<pre><code class="language-scss">// <span class="cm-tag">note</span> <span class="cm-operator">:</span> <span class="cm-tag">ceci</span> <span class="cm-tag">est</span> <span class="cm-tag">bien</span> <span class="cm-tag">un</span> <span class="cm-tag">commentaire</span> <span class="cm-tag">valide</span> <span class="cm-tag">avec</span> <span class="cm-tag">sass</span><span class="cm-tag">.</span> <span class="cm-tag">Au</span> <span class="cm-tag">revoir</span> <span class="cm-tag">les</span> <span class="cm-comment">/**/</span>

<span class="cm-tag">$blue</span><span class="cm-operator">:</span> <span class="cm-builtin">#3bbfce</span>; // <span class="cm-tag">Variable</span>
<span class="cm-qualifier">.content-navigation</span> {
  <span class="cm-property">border-color</span><span class="cm-operator">:</span> <span class="cm-variable-2">$blue</span>;

  // <span class="cm-propertycm-error">mixin</span>
  <span class="cm-property">color</span><span class="cm-operator">:</span> <span class="cm-variable-2">darken</span>(<span class="cm-error">$blue</span>, <span class="cm-number">9%</span>);

  // <span class="cm-propertycm-error">Imbrication</span>
  <span class="cm-propertycm-error">li</span> {
    <span class="cm-property">font</span><span class="cm-operator">:</span> {
      <span class="cm-propertycm-error">family</span><span class="cm-operator">:</span> <span class="cm-propertycm-error">serif</span>;
      <span class="cm-propertycm-error">weight</span><span class="cm-operator">:</span> <span class="cm-propertycm-error">bold</span>;
      <span class="cm-property">size</span><span class="cm-operator">:</span> <span class="cm-number">1.2em</span>;
    }
  }
}

<span class="cm-tag">$margin</span><span class="cm-operator">:</span> <span class="cm-number">16px</span>;
<span class="cm-qualifier">.border</span> {
  // <span class="cm-propertycm-error">operateurs</span>
  <span class="cm-property">padding</span><span class="cm-operator">:</span> <span class="cm-variable-2">$margin</span> / <span class="cm-number">2</span>;
  <span class="cm-property">margin</span><span class="cm-operator">:</span> <span class="cm-variable-2">$margin</span> / <span class="cm-number">2</span>;
  <span class="cm-property">border-color</span><span class="cm-operator">:</span> <span class="cm-variable-2">$blue</span>;
}</code></pre>
<h3 id="less">LESS</h3>
<blockquote>
<p>LESS étend CSS avec un comportement dynamique grâce à des variables, mixins, opérations et fonctions. LESS fonctionne à la fois sur côté-client (IE 6+, Webkit, Firefox) et côté serveur avec Node.js.</p>
</blockquote>
<h4 id="petit-exemple-de-code-less">Petit exemple de code LESS</h4>
<pre><code class="language-less"><span class="cm-qualifier">.box-shadow</span> (<span class="cm-def">@x</span><span class="cm-operator">:</span> <span class="cm-number">0</span>, <span class="cm-def">@y</span><span class="cm-operator">:</span> <span class="cm-number">0</span>, <span class="cm-def">@blur</span><span class="cm-operator">:</span> <span class="cm-number">1px</span>, <span class="cm-def">@alpha</span>) {
  <span class="cm-def">@val</span><span class="cm-operator">:</span> <span class="cm-def">@x</span> <span class="cm-def">@y</span> <span class="cm-def">@blur</span> <span class="cm-propertycm-error">rgba</span>(<span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-def">@alpha</span>);

  <span class="cm-property">box-shadow</span><span class="cm-operator">:</span>         <span class="cm-def">@val</span>;
  <span class="cm-meta">-webkit-</span><span class="cm-property">box-shadow</span><span class="cm-operator">:</span> <span class="cm-def">@val</span>;
  <span class="cm-meta">-moz-</span><span class="cm-property">box-shadow</span><span class="cm-operator">:</span>    <span class="cm-def">@val</span>;
}

<span class="cm-qualifier">.box</span> {
  <span class="cm-def">@base</span><span class="cm-operator">:</span> <span class="cm-error">#f938ab</span>;
  <span class="cm-property">color</span><span class="cm-operator">:</span>        <span class="cm-variable-2">saturate</span>(<span class="cm-def">@base</span>, <span class="cm-number">5%</span>);
  <span class="cm-property">border-color</span><span class="cm-operator">:</span> <span class="cm-variable-2">lighten</span>(<span class="cm-def">@base</span>, <span class="cm-number">30%</span>);
  <span class="cm-propertycm-error">div</span> {
    <span class="cm-qualifier">.box-shadow</span>(<span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-number">5px</span>, <span class="cm-number">0.4</span>)
  }
}</code></pre>
<h3 id="stylus">Stylus</h3>
<blockquote>
<p>Stylus est un nouveau langage révolutionnaire, qui apporte une méthode efficace, dynamique et expressive pour générer des CSS.</p>
</blockquote>
<h4 id="petit-exemple-de-code-stylus">Petit exemple de code Stylus</h4>
<pre><code>border-radius()
  -webkit-border-radius arguments
  -moz-border-radius arguments
  border-radius arguments

body
  font 12px Helvetica, Arial, sans-serif

a.button
  border-radius 5px</code></pre>
<h2 id="quel-langage-choisir-pour-g-n-rer-ses-css-">Quel langage choisir pour générer ses CSS ?</h2>
<p>À la vue des syntaxe (toute assez proche), on sais bien qu’on parle de CSS. On dégage 2 approches: une qui ajoute des possibilités à CSS sans modifier la syntaxe d’origine (Scss, LESS), et une qui veut simplifier (Sass, Stylus).
La syntaxe ne fait pas tout, il faut aussi regarder la méthode de génération des feuilles de style en CSS :</p>
<ul>
<li>Sass possède une méthode en ligne de commande qui va surveiller vos fichiers .sass ou .scss et va mettre à jour tout seul vos CSS,</li>
<li>LESS possède pour le développement, un fichier javascript, et pour la production, un compilateur (ligne de commande),</li>
<li>Stylus utilise une méthode de compilation (je n’ai pas été foutu de trouver un exemple clair rapidement)</li>
</ul>
<p>Sass est basé sur Ruby, LESS et Stylus sur Javascript (Node.js). Tous les 3 peuvents être utilisé depuis d’autres langages pour peu que vous utilisiez des interface comme <a href="https://github.com/kriswallsmith/assetic">Assetic en PHP</a>. Globalement rien de bien différent, si ce n’est que Sass possède des solutions pour gérer la génération depuis votre GUI (<a href="https://github.com/hlb/SassSalon">SassSalon</a>, <a href="http://compass.handlino.com/">Compass.app</a> ), utile pour des designers qui n’aiment souvent pas les lignes de commandes…</p>
<p>Ensuite il faut rentrer un peu dans le détail des fonctionnalités offertes, mais je vous laisse prendre le temps de faire ça par vous même en consultant les docs.</p>
<p>Sass a une base qui a du vécu et 2 syntaxes. LESS, lui, me parait un peu light, et je n’aime pas trop le coup du compilateur js. Quant à Stylus je n’ai pas trop pris le temps de faire des tests, mais il est encore assez jeune, quoique prometteur.</p>
<p>Pour l’instant j’utilise Sass (avec la syntaxe scss), ma principale raison est le framework <a href="http://beta.compass-style.org/">Compass</a> qu’on peut rajouter en surcouche. Sass et Compass représente une grosse communauté et à eux 2 un bon gros tas de fonctions. Je rentrerais un peu plus dans le détail avec Sass/Compass dans un prochain post.</p>
<p>Il me paraît aujourd’hui évident d’utiliser une de ces solutions et je ne suis pas près de m’en passer (pas avant que CSS ne possède des variables et mixins en tout cas), surtout à notre époque où chaque nouvelle propriété amusante des CSS utilise un préfixe par navigateur (et peu donc vite devenir gerbant à l’utilisation).</p>
<p><em>En tout cas, il y’a du choix, alors passez à la vitesse supérieur avec vos CSS !</em></p>
<p>Edit: Depuis j’ai publié d’autres articles relatifs, un plus détaillé sur <a href="/blog/fonctions-variables-css-generer-ses-css-avec-sass-compass/">la solution Sass/Compass (et son installation) </a>puis un autre sur <a href="/blog/compass-app-application-pour-compiler-css-sass-compass/">comment se passer des lignes de commandes avec Compass.app !</a></p>

]]></description>
              <pubDate>Thu, 21 April 2011 00:00:00 +0200</pubDate>
              <link>/dist/blog/utiliser-des-variables-fonctions-css/index.html</link>
              <guid isPermaLink="true">/dist/blog/utiliser-des-variables-fonctions-css/index.html</guid>
          </item>

          <item>
              <title>Coder en Javascript dans une console</title>
              <description><![CDATA[

<p>Depuis l’apparition des consoles Javascript, on peut debugger plus facilement des erreurs de scripts, qui à l’époque d’IE6 &amp; co se faisait à coup de alert().
Un chose que je ne trouve pas très répandu, c’est d’utiliser ces consoles pour coder directement, de petit morceaux de code, sans se (re)taper d’ajouter du script inline, ou un fichier juste pour avoir bonne conscience. Avec une console avancée, on peut même éditer des scripts en cours d’exécution !</p>
<h2 id="a-quoi-a-sert-de-coder-du-javascript-dans-une-console-">A quoi ça sert de coder du Javascript dans une console ?</h2>
<p>Un exemple très simple sera plus parlant : vous voyez un paragraphe de texte et vous vous demandez combien il comporte de caractères. Et là vous commencez à compter… 1, 2, 3… Sttoooppp ! On peut faire ça en javascript ! Sans perdre du temps !
En admettant que vous ayez une console javascript digne de ce nom (la console Webkit en fait partie – Chrome, Safari…), vous avez un shortcut vraiment énorme. C’est le <strong>$0</strong>.</p>
<h3 id="-0-">$0 ?</h3>
<p>$0 est très simple d’utilisation, et peut être très utile. Choisissez un élément sur une page web, faites une inspection de l’élément (sous Webkit et Gecko, un simple clic droit dessus et « Inspect Element » / « Inspecter l’élément » fait l’affaire). Allez dans votre console Javascript, et tapez $0 (puis Enter). Et là magie, cette variable contient une référence du noeud DOM en question ! C’est assez énorme je trouve.</p>
<h3 id="utilisation-compter-le-texte-d-un-paragraphe">Utilisation : compter le texte d’un paragraphe</h3>
<p>Admettons que vous cherchez à compter le nombre de caractères dans une <code>&lt;div&gt;</code>, inspectez là, puis dans votre console entrez-y la ligne suivante:</p>
<pre><code class="language-js"><span class="cm-variable">$0</span>.<span class="cm-property">innerHTML</span>.<span class="cm-property">length</span></code></pre>
<p>Et voilà vous avez votre résultat !</p>
<p>Bien entendu il est bien évidement possible d’avoir des utilisations bien plus poussé de cette technique, comme par exemple récupérer tous les liens d’une page pour avoir leur href ou pour les entourer en rouge.</p>
<h3 id="coder-plus-d-un-ligne">Coder plus d’un ligne</h3>
<p>Voici quelques trucs utile à savoir pour avoir une utilisation correcte des consoles javascript :</p>
<ul>
<li>Utiliser les flèches du clavier Haut et Bas pour naviguer dans les précédentes commandes effectués, comme dans un terminal;</li>
<li>Penser à Shift+Enter pour faire des retours à la ligne sans exécuter le code;</li>
<li>La touche TABulation vous permet d’avoir une autocomplétion. Appuyez dessus plusieurs fois vous présentera les différentes options à votre disposition.</li>
</ul>
<h2 id="ajouter-jquery-dans-n-importe-quel-page-depuis-une-console-javascript">Ajouter jQuery dans n’importe quel page depuis une console Javascript</h2>
<p>Lorsque l’on fait vite mumuse avec cette technique, il peut s’avérer judicieux d’utiliser jQuery ou une librairie quelconque de votre choix pour gagner encore en rapidité, et jQuery n’est pas encore sur toutes les pages web (<a href="https://twitter.com/mathias/status/59692133157842946" title="Statistique jQuery/Flash sur les pages web">même si ça s’en reproche</a>)
Alors voilà une petite technique de sioux afin d’ajouter jQuery (ou autre) dans la page en cours.</p>
<pre><code class="language-js"><span class="cm-keyword">if</span> (<span class="cm-keyword">typeof</span> <span class="cm-variable">jQuery</span> == <span class="cm-string">&#39;undefined&#39;</span>) {
    <span class="cm-keyword">var</span> <span class="cm-variable">myScript</span> = <span class="cm-variable">document</span>.<span class="cm-property">createElement</span>(<span class="cm-string">&#39;script&#39;</span>);
    <span class="cm-variable">myScript</span>.<span class="cm-property">setAttribute</span>(<span class="cm-string">&quot;src&quot;</span>, <span class="cm-string">&quot;http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js&quot;</span>); <span class="cm-comment">// you can change this filename</span>
    <span class="cm-variable">document</span>.<span class="cm-property">getElementsByTagName</span>(<span class="cm-string">&quot;head&quot;</span>)[<span class="cm-number">0</span>].<span class="cm-property">appendChild</span>(<span class="cm-variable">myScript</span>);
}</code></pre>
<p>N.B. : Si justement vous n’avez pas jQuery déjà inclus, il se peut que l’ajouter provoque des soucis si la variable $ est utile à la page (ce qui peut être le cas si une librairie tel que ProtoypeJs est inclus). Il faut donc utiliser la méthode de jQuery pour palier à ce problème :</p>
<pre><code class="language-js"><span class="cm-variable">jQuery</span>.<span class="cm-property">noConflict</span>(); <span class="cm-comment">// if you think there will be a problem with &quot;$&quot;</span></code></pre>
<p>Ce qui impliquer d’utiliser par la suite jQuery avec son vrai nom plutôt que $ (ex: jQuery(‘.selector’).plugin() ).</p>
<p>Ainsi on pourra faire des choses plus avancés facilement.
Si on reprends mon exemple de tout à l’heure où j’ai compté les caractères d’une div, vous avez peut être remarqué le soucis que cette technique peut avoir : si vous avez de l’HTML dedans, le nombre de caractère est faussé puisque cela va compter les caractères réservés à l’HTML.
Avec jQuery, ça devient aussi simple que ça pour contourner le problème :</p>
<pre><code class="language-js"><span class="cm-variable">jQuery</span>(<span class="cm-variable">$0</span>).<span class="cm-property">text</span>().<span class="cm-property">length</span></code></pre>
<p>And voilà… Vous prendrez vite goût à cette technique qui peut devenir très utile. D’ailleurs si vous avez des petits snippets sympathiques, n’hésitez pas à les poster dans les commentaires, je pourrais très bien ajouter une liste de commandes utiles en dessous de cette article !</p>
<p>Ajout du 17 mai 2011 : Je vous invite à <a href="http://paulirish.com/2011/a-re-introduction-to-the-chrome-developer-tools/">redécouvrir l’outil de dév. de Chrome, via une vidéo du dernier Google I/O présenté par Paul Irish</a></p>

]]></description>
              <pubDate>Mon, 18 April 2011 00:00:00 +0200</pubDate>
              <link>/dist/blog/coder-en-javascript-dans-une-console/index.html</link>
              <guid isPermaLink="true">/dist/blog/coder-en-javascript-dans-une-console/index.html</guid>
          </item>

          <item>
              <title>Installer Apache PHP MySQL sous Mac OS X</title>
              <description><![CDATA[

<p>Une des premières choses à faire pour un développeur web comme moi, c’est d’avoir <strong>un environnement de développement pour travailler en local</strong>. C’est sûr que ça peut paraître la base comme ça, mais à l’époque où j’étais encore sous Windows, j’ai déjà vu des gros noobs se taper de l’upload par FTP à chaque sauvegarde de fichiers. Et ouais. Avec sauvegarde par bouton en forme de disquette et upload par glisser déposer… Si si…</p>
<p>Enfin bref. <em>Installer un serveur web local sur OS X</em> basé sur <strong>Apache/PHP/MySQL</strong> peut se faire de plusieurs manières :</p>
<ul>
<li>Activer le serveur web installé par défaut sur Mac (!),</li>
<li>Installer la solution <a href="//www.apachefriends.org/">XAMPP</a> des amis d’apache,</li>
<li>Installer la solution <a href="//www.mamp.info/">MAMP</a>,</li>
<li>Installer la solution <a href="//www.zend.com/fr/products/server-ce/">Zend Server (Community Edition)</a>,</li>
<li>Utiliser une solution à partir d’un gestionnaire de paquet tel que <a href="//www.macports.org/">MacPorts</a>, <a href="//www.finkproject.org/">Fink</a> ou <a href="//mxcl.github.com/homebrew/">Howbrew</a>,</li>
<li>Se démerder avec du code source et tout compiler soit même !</li>
</ul>
<h2 id="quelle-solution-choisir-pour-son-serveur-web-sous-mac-os-x-">Quelle solution choisir pour son serveur web sous Mac OS X ?</h2>
<p>Petit à petit j’ai eu l’occasion d’essayer toutes les solutions. J’ai commencé sans me prendre la tête par la solution built-in mais j’y ai vite vu des limitations dès lors que j’ai eu besoin de plus de libertés sur PHP (version, extensions etc). Pour activer le <em>serveur web</em>, il suffit d’aller dans les préférences d’OS X, puis de se rendre dans « Sharing » (Partage) et d’activer « Web sharing » (Partage web).</p>
<p>Je ne suis pas fan de <strong>XAMPP</strong>, ne me demandez pas pourquoi. Je me rappelle l’avoir installé et l’avoir supprimé dans l’heure qui suit (que ce soit sous Windows, Ubuntu ou OS X)…</p>
<p>J’ai donc essayé <strong>MAMP</strong>, qui a comme inconvénient de nécessiter un démarrage manuel. Pour un développeur web comme moi qui passe 80% de son temps à coder sur sa machine, rien que ça peut devenir pénible. M’enfin si c’est que ça y’a la version PRO (payante). Okay, au suivant.</p>
<p><strong>Zend Server (CE)</strong> est vraiment pas mal, dans le sens une majeur partie de la configuration PHP se fait via une interface web. Dans ce sens ça rejoint WAMP pour la facilité de configuration (activer/désactiver une extension, mettre à jour des valeurs du php.ini…). La webapp tourne sous lighttpd ce qui fait que si vous pétez votre conf Apache (qui elle se fait à la main), la webapp n’en dépend pas et peut toujours fonctionner. Zend Server est d’office avec la plupart des extensions dont j’ai pu avoir besoin depuis que j’ai mon Mac (à ce jour plus d’un an). J’ai vraiment trouvé cette solution élégante, sans prise de tête. Y’a même un driver mssql pour vous dire (il me semble que ça m’a manqué dans certaines des solutions ci-dessus) !</p>
<p>Récemment j’ai eu de nouveaux besoins pour mon job. Une extension qui n’était pas dans Zend Server (client Solr pour l’anecdote), j’ai donc testé une solution basée sur une gestionnaire de paquet, ce qui m’a rappelé les bons côtés des distributions Linux avec leurs packages.
Pour le choix du gestionnaire je me suis orienté vers MacPorts non pas parce qu’il est supérieur, mais parce que les 2 autres (Fink et Homebrew) n’ont pas assez de paquets pour PHP (tout simplement). MacPorts en recense une centaine sur la recherche « php ». Fink environ 50, et Homebrew même pas une dizaine. Howbrew aurait l’avantage d’être beaucoup plus rapide que les 2 autres solutions, mais à comme principe de base de ne pas dupliquer un paquet déjà présent sur le système OS X. Et comme Apache/PHP sont déjà présents (bien que la version ne soit pas à jour et les extensions présentes ne se bousculent pas), il faut utiliser d’autres sources…
Donc je me suis simplement orienté vers <strong>MacPorts</strong> :</p>
<blockquote lang="en">
    The MacPorts Project is an open-source community initiative to design an easy-to-use system for compiling, installing, and upgrading either command-line, X11 or Aqua based open-source software on the <a href="//www.apple.com/macosx/">Mac OS X</a> operating system. To that end we provide the command-line driven MacPorts software package under a <a href="//opensource.org/licenses/bsd-license.php">BSD License</a>, and through it easy access to thousands of ports that <a href="//guide.macports.org/#introduction">greatly simplify</a> the task of <a href="//guide.macports.org/#using">compiling and installing</a> open-source software on your Mac.
</blockquote>

<p>Pour installer <strong>MacPorts</strong> rien de difficile : on se rend sur le site officiel du projet, on télécharge l’image disque puis on installe ça facilement (pré-requis : il faut avoir XCode et X11 d’installer sur sa machine, tous les 2 sont dispos sur les DVD d’applications fournies avec votre Mac). Après ça dans notre Terminal on a accès la commande <strong>port</strong> qui permettra de faire des équivalents d’apt-get / aptitude sous Linux. La grosse différence, qui est ses avantages et inconvénients c’est que ça compile les sources sur votre machine. Avantage : précision pour les options sur les paquets. Inconvénient : temps d’installation (surtout pour les premiers paquets).</p>
<h2 id="installation-des-paquets-apache-php-mysql-avec-macports">Installation des paquets Apache, PHP, MySQL avec MacPorts</h2>
<p>Passons donc au nécessaire. Installer Apache et le server mysql. PHP est installé juste après avec quelques petites spécificités éventuelles. Pour ce faire, dans votre <em>Application &gt; Utilitaires &gt; Terminal.app</em>, exécutez les commandes suivantes et ne soyez pas pressé, allez vous faire un café, prenez votre smartphone et allez <a href="//www.rovio.com/index.php?page=angry-birds" title="Voir au site du jeu Angry Birds">péter des cochons</a> quelques minutes sur votre trône :</p>
<pre><code class="language-bash"><span class="cm-builtin">sudo</span> port install apache2 mysql5-server</code></pre>
<p>Si c’est votre première fois avec <strong>port</strong>, vous comptez au moins une bonne douzaine de minutes le temps que les premiers paquets se compilent.</p>
<p>Une fois ceci fait, on va compiler et installer PHP 5 avec les options de compilation (+*) pour Apache, MySQL et PEAR (<a href="//pear.php.net/" title="Accéder au site de PEAR (PHP Extension and Application Repository)">PEAR quesako ?</a>)</p>
<pre><code class="language-bash"><span class="cm-builtin">sudo</span> port install php5 <span class="cm-operator">+</span>apache2 <span class="cm-operator">+</span>mysql5 <span class="cm-operator">+</span>pear</code></pre>
<p>Là encore ça peut prendre du temps.</p>
<p>Ensuite on passe aux paquets de base, manière de ne pas avoir à installer un paquet toutes les 2h à chaque « <em>Fatal Error : Class not found</em> » :)</p>
<p><em>Note: N’ayez pas peur de copier les commentaires des les lignes de codes dans votre terminal, ça reste des commentaires, même pour un terminal ;) </em></p>
<pre><code class="language-bash"><span class="cm-comment"># usefull packages</span>
<span class="cm-builtin">sudo</span> port install php5-apc php5-curl php5-ftp php5-gd php5-gettext php5-iconv php5-imagick php5-ldap php5-pcntl php5-pdflib php5-mbstring php5-mcrypt php5-memcached php5-soap php5-uploadprogress php5-xdebug php5-xmlrpc php5-zip
<span class="cm-comment"># database related packages</span>
<span class="cm-builtin">sudo</span> port install php5-odbc php5-mysql php5-sqlite</code></pre>
<p>A vous de voir ce qui vous intéresse dans la liste, mais la plupart sont des classiques (et encore il en manque peut-être)</p>
<p>Pour la liste des paquets, vous avez un énorme choix et <a href="//www.macports.org/ports.php?by=name&amp;substr=php5" title="Accéder à la liste des paquets php5 sur le site de MacPorts">vous pouvez parcourir la liste sur le site</a></p>
<p>Mémo à moi-même : pour mon boulot j’ai dû me rajouter ces 3 paquets (oui oui j’ai besoin du driver mssql…)</p>
<pre><code class="language-bash"><span class="cm-builtin">sudo</span> port install php5-solr freetds php5-mssql</code></pre>
<p>Ensuite il reste quelques petites modifs avant d’avoir un environnement fin prêt.</p>
<h2 id="configuration-d-apache">Configuration d’Apache</h2>
<p>On active PHP5 au niveau d’Apache</p>
<pre><code class="language-bash"><span class="cm-comment"># activate php5 module for apache</span>
<span class="cm-builtin">cd</span> /opt/local/apache2/modules
<span class="cm-builtin">sudo</span> /opt/local/apache2/bin/apxs <span class="cm-attribute">-a</span> <span class="cm-attribute">-e</span> <span class="cm-attribute">-n</span> <span class="cm-string">&quot;php5&quot;</span> libphp5.so</code></pre>
<p>Il faut maintenant préciser à Apache que les fichiers index.php peuvent être les fichiers index par défaut. Pour ce faire, il faut éditer le fichier /opt/local/apache2/conf/httpd.conf et rechercher « DirectoryIndex index.html »</p>
<pre><code class="language-ini"><span class="cm-comment">; add &quot;index.php&quot; at the end</span>
<span class="cm-def">D</span><span class="cm-def">i</span><span class="cm-def">r</span><span class="cm-def">e</span><span class="cm-def">c</span><span class="cm-def">t</span><span class="cm-def">o</span><span class="cm-def">r</span><span class="cm-def">y</span><span class="cm-def">I</span><span class="cm-def">n</span><span class="cm-def">d</span><span class="cm-def">e</span><span class="cm-def">x</span><span class="cm-def"> </span><span class="cm-def">i</span><span class="cm-def">n</span><span class="cm-def">d</span><span class="cm-def">e</span><span class="cm-def">x</span><span class="cm-def">.</span><span class="cm-def">h</span><span class="cm-def">t</span><span class="cm-def">m</span><span class="cm-def">l</span><span class="cm-def"> </span><span class="cm-def">i</span><span class="cm-def">n</span><span class="cm-def">d</span><span class="cm-def">e</span><span class="cm-def">x</span><span class="cm-def">.</span><span class="cm-def">p</span><span class="cm-def">h</span><span class="cm-def">p</span></code></pre>
<p>On peut aussi ajouter la conf du module apache php (en fin de fichier ?)</p>
<pre><code>Include conf/extra/mod_php.conf</code></pre>
<p>Ayant déjà vécu un paquet de reinstall système, j’ai l’habitude de mettre mes configs dans mes dossiers perso indépendamment du système, voilà donc ce que j’ai ajouté en à la fin du httpd.conf.</p>
<pre><code>Include /Users/YOUR-USERNAME/Dropbox/Servers/conf/development/*</code></pre>
<p>Vous remarquerez que j’ai mis ça sur ma <a href="//db.tt/C5lc46w">Dropbox</a> (comme je suis rassuré d’avoir tous mes petits fichiers au chaud bien à l’abri d’un hardreset :) ). <a href="//db.tt/C5lc46w" title="Créer votre compte Dropbox gratuitement !">Je vous invite à faire pareille</a>, ça ne coûte rien et c’est tellement pratique d’avoir un mega dossier synchro entre ses différentes machines (smartphone inclus) !</p>
<p>Après avoir modifié la conf <strong>Apache</strong>, il faut bien sur penser à redémarrer le serveur pour que la nouvelle configuration soit prise en compte:</p>
<pre><code class="language-bash"><span class="cm-builtin">sudo</span> /opt/local/apache2/bin/apachectl <span class="cm-attribute">-k</span> <span class="cm-builtin">restart</span></code></pre>
<p>Ceci doit être fait dès que vous modifiez votre httpd.conf (ou apache2.conf selon), pensez-y quand vous ajouterez des virtual hosts !</p>
<h2 id="configuration-de-php">Configuration de PHP</h2>
<p>On doit créer un fichier de configuration de PHP. On copie donc la version par défaut de développement. Puis vous pouvez prendre le temps d’éditer ce nouveau php.ini pour l’adapter à vos besoins.</p>
<pre><code class="language-bash"><span class="cm-comment"># create a default php.ini</span>
<span class="cm-builtin">sudo</span> <span class="cm-builtin">cp</span> /opt/local/etc/php5/php.ini-development /opt/local/etc/php5/php.ini
<span class="cm-comment"># open it to customize</span>
<span class="cm-builtin">sudo</span> open /opt/local/etc/php5/php.ini</code></pre>
<p>Prenez 2 secondes pour éviter des warnings avec les fonctions/classes date, time etc… en ajoutant ceci à la fin du fichier php.ini</p>
<pre><code class="language-ini"><span class="cm-comment"># set a default timezone for your server</span>
<span class="cm-def">d</span><span class="cm-def">a</span><span class="cm-def">t</span><span class="cm-def">e</span><span class="cm-def">.</span><span class="cm-def">t</span><span class="cm-def">i</span><span class="cm-def">m</span><span class="cm-def">e</span><span class="cm-def">z</span><span class="cm-def">o</span><span class="cm-def">n</span><span class="cm-def">e</span>=<span class="cm-quote">&quot;</span><span class="cm-quote">E</span><span class="cm-quote">u</span><span class="cm-quote">r</span><span class="cm-quote">o</span><span class="cm-quote">p</span><span class="cm-quote">e</span><span class="cm-quote">/</span><span class="cm-quote">P</span><span class="cm-quote">a</span><span class="cm-quote">r</span><span class="cm-quote">i</span><span class="cm-quote">s</span><span class="cm-quote">&quot;</span></code></pre>
<h2 id="configuration-de-mysql">Configuration de MySQL</h2>
<p>Il reste à configurer  notre serveur de base de données SQL.</p>
<p>Pendant qu’on est encore chaud sur le php.ini, on en profite pour adapter les réglages MySQL. Voilà ce qui va être nécessaire (<em>cherchez dans le fichier les clés de configs et modifiez les comme ici</em>)</p>
<pre><code class="language-ini"><span class="cm-comment"># edit php.ini to add default mysql socket</span>
<span class="cm-comment"># ...</span>
<span class="cm-def">p</span><span class="cm-def">d</span><span class="cm-def">o</span><span class="cm-def">_</span><span class="cm-def">m</span><span class="cm-def">y</span><span class="cm-def">s</span><span class="cm-def">q</span><span class="cm-def">l</span><span class="cm-def">.</span><span class="cm-def">d</span><span class="cm-def">e</span><span class="cm-def">f</span><span class="cm-def">a</span><span class="cm-def">u</span><span class="cm-def">l</span><span class="cm-def">t</span><span class="cm-def">_</span><span class="cm-def">s</span><span class="cm-def">o</span><span class="cm-def">c</span><span class="cm-def">k</span><span class="cm-def">e</span><span class="cm-def">t</span>=<span class="cm-quote">/</span><span class="cm-quote">t</span><span class="cm-quote">m</span><span class="cm-quote">p</span><span class="cm-quote">/</span><span class="cm-quote">m</span><span class="cm-quote">y</span><span class="cm-quote">s</span><span class="cm-quote">q</span><span class="cm-quote">l</span><span class="cm-quote">.</span><span class="cm-quote">s</span><span class="cm-quote">o</span><span class="cm-quote">c</span><span class="cm-quote">k</span>
<span class="cm-comment"># ...</span>
<span class="cm-def">m</span><span class="cm-def">y</span><span class="cm-def">s</span><span class="cm-def">q</span><span class="cm-def">l</span><span class="cm-def">.</span><span class="cm-def">d</span><span class="cm-def">e</span><span class="cm-def">f</span><span class="cm-def">a</span><span class="cm-def">u</span><span class="cm-def">l</span><span class="cm-def">t</span><span class="cm-def">_</span><span class="cm-def">s</span><span class="cm-def">o</span><span class="cm-def">c</span><span class="cm-def">k</span><span class="cm-def">e</span><span class="cm-def">t</span><span class="cm-def"> </span>=<span class="cm-quote"> </span><span class="cm-quote">/</span><span class="cm-quote">t</span><span class="cm-quote">m</span><span class="cm-quote">p</span><span class="cm-quote">/</span><span class="cm-quote">m</span><span class="cm-quote">y</span><span class="cm-quote">s</span><span class="cm-quote">q</span><span class="cm-quote">l</span><span class="cm-quote">.</span><span class="cm-quote">s</span><span class="cm-quote">o</span><span class="cm-quote">c</span><span class="cm-quote">k</span></code></pre>
<p>Une fois ceci fait, on va vraiment configurer MySQL</p>
<pre><code class="language-bash"><span class="cm-comment"># mysql installation</span>
<span class="cm-builtin">sudo</span> <span class="cm-attribute">-u</span> mysql mysql_install_db5</code></pre>
<p>Ensuite on défini les fameuses sockets pour php (entre autres) dans le fichier /opt/local/etc/mysql5/my.cnf</p>
<pre><code class="language-bash"><span class="cm-comment"># create file if not exists</span>
<span class="cm-builtin">sudo</span> <span class="cm-builtin">touch</span> /opt/local/etc/mysql5/my.cnf
<span class="cm-comment"># open it</span>
<span class="cm-builtin">sudo</span> open /opt/local/etc/mysql5/my.cnf</code></pre>
<p>Voilà les ajouts/modifications à apporter</p>
<pre><code class="language-ini"><span class="cm-comment"># add this into the configuration file, or edit current settings</span>
<span class="cm-header">[mysqld_safe]</span>
<span class="cm-def">s</span><span class="cm-def">o</span><span class="cm-def">c</span><span class="cm-def">k</span><span class="cm-def">e</span><span class="cm-def">t</span><span class="cm-def"> </span>=<span class="cm-quote"> </span><span class="cm-quote">/</span><span class="cm-quote">t</span><span class="cm-quote">m</span><span class="cm-quote">p</span><span class="cm-quote">/</span><span class="cm-quote">m</span><span class="cm-quote">y</span><span class="cm-quote">s</span><span class="cm-quote">q</span><span class="cm-quote">l</span><span class="cm-quote">.</span><span class="cm-quote">s</span><span class="cm-quote">o</span><span class="cm-quote">c</span><span class="cm-quote">k</span>
<span class="cm-header">[mysqld]</span>
<span class="cm-def">s</span><span class="cm-def">o</span><span class="cm-def">c</span><span class="cm-def">k</span><span class="cm-def">e</span><span class="cm-def">t</span>=<span class="cm-quote">/</span><span class="cm-quote">t</span><span class="cm-quote">m</span><span class="cm-quote">p</span><span class="cm-quote">/</span><span class="cm-quote">m</span><span class="cm-quote">y</span><span class="cm-quote">s</span><span class="cm-quote">q</span><span class="cm-quote">l</span><span class="cm-quote">.</span><span class="cm-quote">s</span><span class="cm-quote">o</span><span class="cm-quote">c</span><span class="cm-quote">k</span>
<span class="cm-header">[client]</span>
<span class="cm-def">s</span><span class="cm-def">o</span><span class="cm-def">c</span><span class="cm-def">k</span><span class="cm-def">e</span><span class="cm-def">t</span>=<span class="cm-quote">/</span><span class="cm-quote">t</span><span class="cm-quote">m</span><span class="cm-quote">p</span><span class="cm-quote">/</span><span class="cm-quote">m</span><span class="cm-quote">y</span><span class="cm-quote">s</span><span class="cm-quote">q</span><span class="cm-quote">l</span><span class="cm-quote">.</span><span class="cm-quote">s</span><span class="cm-quote">o</span><span class="cm-quote">c</span><span class="cm-quote">k</span></code></pre>
<p>Il y’en a peut être beaucoup mais il vaut mieux trop que pas assez.</p>
<h2 id="activer-apache-php-et-mysql-au-d-marrage-de-votre-machine">Activer Apache PHP et MySQL au démarrage de votre machine</h2>
<p>Vous remarquerez que les paquets qui nécessitent de fonctionner en tant que serveur (apache, mysql…) doivent être démarrés à la main.
Mais si vous avez l’oeil, lors des compilations, des commentaires similaires à celui-ci vous indique comment faire simplement.</p>
<pre><code class="language-bash"><span class="cm-comment">###########################################################</span>
<span class="cm-comment"># A startup item has been generated that will aid in</span>
<span class="cm-comment"># starting apache2 with launchd. It is disabled</span>
<span class="cm-comment"># by default. Execute the following command to start it,</span>
<span class="cm-comment"># and to cause it to launch at startup:</span>
<span class="cm-comment">#</span>
<span class="cm-comment"># sudo port load apache2</span>
<span class="cm-comment">###########################################################</span></code></pre>
<p>Donc pour loader Apache et MySQL au démarrage, rien de plus simple:</p>
<pre><code class="language-bash"><span class="cm-builtin">sudo</span> port load apache2 mysql5-server</code></pre>
<h2 id="les-petits-plus">Les petits plus</h2>
<h3 id="installer-phpunit-sur-mac-os-x">Installer PHPUnit sur Mac OS X</h3>
<p>Quand on est un développeur digne de ce nom, on se doit de faire des <a href="//fr.wikipedia.org/wiki/Test_unitaire">tests unitaires</a>. Voilà comment ajouter le nécessaire à votre configuration. Et c’est là que PEAR est nécessaire !</p>
<pre><code class="language-bash"><span class="cm-comment"># install phpunit</span>
<span class="cm-builtin">sudo</span> pear channel-discover pear.phpunit.de
<span class="cm-builtin">sudo</span> pear install <span class="cm-attribute">--alldeps</span> phpunit/PHPUnit</code></pre>
<p>Si vous avez des soucis avez les lignes commandes ci-dessus, comme quoi il vous manque des dépendances, voici de quoi faire</p>
<pre><code class="language-bash"><span class="cm-builtin">sudo</span> pear channel-discover pear.phpunit.de
<span class="cm-builtin">sudo</span> pear channel-discover pear.symfony-project.com
<span class="cm-builtin">sudo</span> pear channel-discover components.ez.no
<span class="cm-builtin">sudo</span> pear install phpunit/PHPUnit</code></pre>
<h3 id="installer-memcache">Installer Memcache</h3>
<p>Memcache, un système de cache bien sympatique utilisable en PHP (entre autres) peut s’installer simplement grâce aux MacPorts.
Il suffit d’installer 2 paquets, puis éventuellement de lancer ça au démarrage de la machine.</p>
<pre><code class="language-bash"><span class="cm-comment"># Install the executable and the bindings for PHP5</span>
<span class="cm-builtin">sudo</span> port install memcached php5-memcached

<span class="cm-comment"># Verify that the executable exists in your path</span>
which memcached
<span class="cm-comment"># output something like /opt/local/bin/memcached</span>

<span class="cm-comment"># Start memcached for the current session</span>
memcached <span class="cm-attribute">-d</span> <span class="cm-attribute">-m</span> <span class="cm-number">24</span> <span class="cm-attribute">-p</span> 11211

<span class="cm-comment"># Configure memcached to execute on startup, if desired</span>
<span class="cm-builtin">sudo</span> port load memcached</code></pre>
<p>Avec tout ça, vous devrait être fin prêt pour attaquer du code !
Il reste maintenant à bien configurer Apache, avec des virtual hosts mais ça fera peut être l’objet d’un autre post.</p>
<p> *[PEAR]: PHP Extension and Application Repository</p>

]]></description>
              <pubDate>Thu, 31 March 2011 00:00:00 +0200</pubDate>
              <link>/dist/blog/installer-serveur-web-apache-php-mysql-mac-os-x-macports/index.html</link>
              <guid isPermaLink="true">/dist/blog/installer-serveur-web-apache-php-mysql-mac-os-x-macports/index.html</guid>
          </item>

          <item>
              <title>Encore un blog de geek ?!</title>
              <description><![CDATA[

<p>Bienvenue (ou pas) sur ma tentative de blog. Moi c’est Maxime, aka MoOx sur le net.</p>
<p>Depuis le temps que j’en parlais à <a href="http://cheezburger.com/View/3246458112">un de mes lolcat</a>. Depuis le temps que je soulais ma chérie avec ça (après lui avoir ouvert son <a href="http://dame-bio.fr/">blog de recettes bio</a>). Voilà j’ouvre mon blog. Un vrai. Un avec WordPress quoi. La grande classe.</p>
<p>Mais qu’es ce que ça va donner ? Un blog de geek. Encore un me direz-vous ? Bah ouais. Avec du code en plus ? Et ouais.</p>
<p>Du coup, vu que je sais pas trop comment me lancer, voilà ce que je me propose de faire dans une premier temps: je vais expliquer comment j’ai pu monter ce blog. Ça qui fera office de mémos pour moi. Je passerais surement par quelques étapes du style : installer et configurer son serveur web (apache, php, mysql, vhosts toussa), installer et surtout bien configurer wordpress, créer un thème HTML5 proprement (et facilement), mettre du ARIA dedans, ensuite faire des zolies feuilles de styles CSS 3, mettre un peu de Javascript (jQuery) pour ajouter de la vie au documents…</p>
<p>Y’aura aussi de quoi optimiser un site au petit oignons. Ça c’est mon petit kiff.</p>
<p>Là je pense que j’ai déjà quelques billets. De quoi faire vu que je suis pas pressé et que je fais ça pour le fun.</p>
<p>Puis quand ça sera fait, bah, je partagerais des choses que j’ai envie qui pourront être du style plugins jQuery, composants CSS ce genre de truc (vu que je suis développeur frontend… ou plutôt <a href="http://css4design.com/metiers-du-web-je-suis-enveloppeur-web-moi-monsieur">enveloppeur web</a>). J’parlerais peut être aussi de tricks liés aux OS (basé sur Unix très certainement), avec des lignes de commandes ce genre de trucs. J’parlerais aussi PHP avec Zend Framework ou même Symfony si chui un ouf. Puis si vraiment je suis en forme, j’utiliserais même Git sur GitHub pour partager du code wahoo ( <a href="https://github.com/MoOx" title="Accéder à mon profil Github">ça en fait c’est déjà fait</a>) !</p>
<p>Puis pour changer un peu, j’essayerais de faire ça avec un peu d’humour et de conneries.</p>
<p>Enfin bon on vera.</p>
<p><em>Vous noterez que mon site n’est pas fini et loin d’être optimisé, dans un sens c’est un peu volontaire  et donc ça fera l’objet de posts ^^ !</em></p>

]]></description>
              <pubDate>Sun, 27 March 2011 00:00:00 +0100</pubDate>
              <link>/dist/blog/encore-un-blog-de-geek/index.html</link>
              <guid isPermaLink="true">/dist/blog/encore-un-blog-de-geek/index.html</guid>
          </item>

    </channel>
</rss>
